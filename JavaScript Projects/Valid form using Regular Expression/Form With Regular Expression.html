<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

  <title>Welcome to World Travel</title>
</head>

<body>
  <div class="container my-3">
    <div id="suc"></div>
    <div id="fa"></div>
    <h1>World Travel Desk</h1>
    <form>
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" class="form-control" id="name" placeholder="Enter Your Name">
        <small id="namevalid" class="form-text text-muted invalid-feedback">
          Your Name is must be 2-10 charactors and should not starts with number.
        </small>
      </div>
      <div class="form-group">
        <label for="email">Email address:</label>
        <input type="text" class="form-control" id="Email" placeholder="Enter Your Email">
        <small id="emailvalid" class="form-text text-muted invalid-feedback">
          Please Use Valid Email.
        </small>
      </div>
      <div class="form-group">
        <label for="address">Enter Your Address:</label>
        <textarea class="form-control" id="address" rows="3"></textarea>
      </div>
      <div class="form-group">
        <label for="phoneNumber">Enter Your Phone Number:</label>
        <input placeholder="Enter Your Phone Number" class="form-control" id="phoneNumber">
        <small id="phonevalid" class="form-text text-muted invalid-feedback">
          Your Phone Number must Starts with Number And should 10 numbers.
        </small>
      </div>
      <button type="button" id="submit" class="btn btn-primary">Submit</button>
      <br><br>
    </form>
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
</body>
<script type="text/javascript">
  console.log("This is Validation Form Using Regular Expression In JavaScript...");

  const name = document.getElementById('name');
  const email = document.getElementById('Email');
  const phone = document.getElementById('phoneNumber');
  let validEmail = false;
  let validPhone = false;
  let validUser = false;

  // console.log(name, email, phone)

  name.addEventListener('blur', () => {
    console.log("Name is blured");
    //validate name
    let regex = /^[a-zA-Z]([0-9a-zA-Z]{2,10}$)/
    let str = name.value
    console.log("Your name is ", str);
    if (regex.test(str)) {
      console.log("Your Name is Valid!!!");
      name.classList.remove('is-invalid');
      validUser = true;
    } else {
      console.log("Your Name is Not Valid!!!");
      name.classList.add('is-invalid');
      validUser = false;
    }
  });

  email.addEventListener('blur', () => {
    console.log("Email is blured");
    //validate email

    let regex2 = /^([_\-\.0-9a-zA-Z]+)@([_\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/
    let str2 = email.value;
    console.log("Your Email Id is ", str2);
    if (regex2.test(str2)) {
      console.log("Your Email is Valid!!!");
      email.classList.remove('is-invalid');
      validEmail = true;
    } else {
      console.log("Your Email is Not Valid!!!");
      email.classList.add('is-invalid');
      validEmail = false;
    }
  });

  phone.addEventListener('blur', () => {
    console.log("PhoneNumber is blured");
    //validate phone

    let regex3 = /^([0-9]){10}$/
    let str3 = phone.value;
    console.log("Your Phone Number is ", str3);
    if (regex3.test(str3)) {
      console.log("Your Phone Number is Valid!!!");
      phone.classList.remove('is-invalid');
      validPhone = true;
    } else {
      console.log("Your Phone Number is Not Valid!!!");
      phone.classList.add('is-invalid');
      validPhone = false;
    }
  });


  let submit = document.getElementById("submit");
  submit.addEventListener('click', (e) => {
    e.preventDefault()

    console.log("You Clicked On submit Button");

    if (validEmail === true && validPhone === true && validUser === true) {
      console.log("Your Form is Valid")
      let success = document.getElementById('suc');
      let fail = document.getElementById('fa');
      // success.classList.add("show");
      success.innerHTML = `
			<div class="alert alert-success alert-dismissible fade show" id="success" role="alert">
				<strong>Success!</strong> Your form is Sucessfully submited 
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
		`
      // fail.classList.remove("show");
      fail.innerHTML = ``
    }
    else {
      console.log("Your form is not valid")
      let success = document.getElementById('suc');
      let fail = document.getElementById('fa');
      // fail.classList.add("show");
      fail.innerHTML = `
			<div class="alert alert-danger alert-dismissible fade show" id="fail" role="alert">
				<strong>Failed!</strong> Please Fill The Form Correctly
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
		`
      // success.classList.remove("show");
      success.innerHTML = ``
    }


  })

</script>

</html>